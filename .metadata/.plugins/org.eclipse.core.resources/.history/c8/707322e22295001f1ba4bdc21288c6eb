package registro;

import javax.swing.*;
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.Calendar;

public class RegistroPanel extends JPanel {
    private JTextField nombreField, emailField, telefonoField, saludoField;
    private JPasswordField passwordField, confirmPasswordField;
    private JComboBox<String> diaBox, mesBox, añoBox;
    private JTextField imagenURLField;
    private JButton registroButton;

    
    /**
	 * Launch the application.
	 */
	public static void main(String[] args) {
		EventQueue.invokeLater(new Runnable() {
			public void run() {
				try {
					RegistroPanel frame = new RegistroPanel();
					frame.setVisible(true);
				} catch (Exception e) {
					e.printStackTrace();
				}
			}
		});
	}
    
    
    public RegistroPanel() {
        setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));
        
        // Nombre
        add(new JLabel("Nombre completo:"));
        nombreField = new JTextField(20);
        add(nombreField);

        // Fecha de nacimiento (Día, Mes, Año)
        add(new JLabel("Fecha de nacimiento:"));
        JPanel fechaPanel = new JPanel();
        diaBox = new JComboBox<>();
        for (int i = 1; i <= 31; i++) {
            diaBox.addItem(String.valueOf(i));
        }
        
        mesBox = new JComboBox<>(new String[]{
            "Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio",
            "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"
        });
        
        añoBox = new JComboBox<>();
        int currentYear = Calendar.getInstance().get(Calendar.YEAR);
        for (int i = currentYear; i >= 1900; i--) {
            añoBox.addItem(String.valueOf(i));
        }
        
        fechaPanel.add(diaBox);
        fechaPanel.add(mesBox);
        fechaPanel.add(añoBox);
        add(fechaPanel);

        // Email
        add(new JLabel("Email:"));
        emailField = new JTextField(20);
        add(emailField);

        // Teléfono
        add(new JLabel("Teléfono:"));
        telefonoField = new JTextField(15);
        add(telefonoField);

        // Contraseña
        add(new JLabel("Contraseña:"));
        passwordField = new JPasswordField(20);
        add(passwordField);

        // Confirmar Contraseña
        add(new JLabel("Confirmar Contraseña:"));
        confirmPasswordField = new JPasswordField(20);
        add(confirmPasswordField);

        // URL de Imagen
        add(new JLabel("URL de Imagen de perfil:"));
        imagenURLField = new JTextField(30);
        add(imagenURLField);

        // Mensaje de saludo (opcional)
        add(new JLabel("Mensaje de saludo:"));
        saludoField = new JTextField(30);
        add(saludoField);

        // Botón de registro
        registroButton = new JButton("Registrar");
        add(registroButton);

        // Acción del botón
        registroButton.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent e) {
                registrarUsuario();
            }
        });
    }

    private void registrarUsuario() {
        String nombre = nombreField.getText();
        String email = emailField.getText();
        String telefono = telefonoField.getText();
        String password = new String(passwordField.getPassword());
        String confirmPassword = new String(confirmPasswordField.getPassword());
        String fechaNacimiento = obtenerFechaSeleccionada();

        if (nombre.isEmpty() || email.isEmpty() || telefono.isEmpty() || password.isEmpty()) {
            JOptionPane.showMessageDialog(this, "Por favor, complete todos los campos obligatorios.");
        } else if (!password.equals(confirmPassword)) {
            JOptionPane.showMessageDialog(this, "Las contraseñas no coinciden.");
        } else {
            JOptionPane.showMessageDialog(this, "Usuario registrado con éxito.\nFecha de nacimiento: " + fechaNacimiento);
            // Lógica para procesar el registro del usuario
        }
    }

    private String obtenerFechaSeleccionada() {
        String dia = (String) diaBox.getSelectedItem();
        String mes = String.valueOf(mesBox.getSelectedIndex() + 1); // Mes en formato numérico
        String año = (String) añoBox.getSelectedItem();
        return dia + "/" + mes + "/" + año;
    }
}

